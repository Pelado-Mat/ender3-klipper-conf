-------------------- Log Start | Tue Aug  6 04:13:02 2024 --------------------
platform: Linux-6.1.21-v7+-armv7l-with-glibc2.31
data_path: /home/m/printer_data
is_default_data_path: False
config_file: /home/m/printer_data/config/moonraker.conf
startup_warnings: []
verbose: False
debug: False
asyncio_debug: False
is_backup_config: False
is_python_package: True
instance_uuid: 2789442f2e9a445a89964c1bbf7d3a06
unix_socket_path: /home/m/printer_data/comms/moonraker.sock
software_version: v0.9.1-0-g63578ae
git_branch: master
git_remote: origin
git_repo_url: https://github.com/Arksine/moonraker.git
modified_files: []
unofficial_components: []
log_file: /home/m/printer_data/logs/moonraker.log
python_version: 3.9.2 (default, Mar 12 2021, 04:06:34)  [GCC 10.2.1 20210110]
launch_args: /home/m/moonraker-env/bin/python /home/m/moonraker/moonraker/__main__.py -d /home/m/printer_data
msgspec_enabled: False
uvloop_enabled: False

#################### Moonraker Configuration ####################

[server]
host = 0.0.0.0
port = 7125
max_upload_size = 1024
klippy_uds_address = ~/printer_data/comms/klippy.sock

[file_manager]
enable_object_processing = True

[authorization]
cors_domains = 
	https://my.mainsail.xyz
	http://my.mainsail.xyz
	http://*.local
	http://*.lan
	http://*.m01.cl
trusted_clients = 
	172.22.0.0/16
	10.0.0.0/8
	127.0.0.0/8
	169.254.0.0/16
	172.16.0.0/12
	192.168.0.0/16
	FE80::/10
	::1/128

[octoprint_compat]

[history]

[announcements]
subscriptions = 
	mainsail

[update_manager]
refresh_interval = 168
enable_auto_refresh = True

[update_manager mainsail]
type = web
channel = stable
repo = mainsail-crew/mainsail
path = ~/mainsail

[update_manager mainsail-config]
type = git_repo
primary_branch = master
path = ~/mainsail-config
origin = https://github.com/mainsail-crew/mainsail-config.git
managed_services = klipper

[update_manager crowsnest]
type = git_repo
path = ~/crowsnest
origin = https://github.com/mainsail-crew/crowsnest.git
managed_services = crowsnest
install_script = tools/pkglist.sh

[update_manager sonar]
type = git_repo
path = ~/sonar
origin = https://github.com/mainsail-crew/sonar.git
primary_branch = main
managed_services = sonar
install_script = tools/install.sh

[power printer]
type = gpio
pin = gpiochip0/gpio23
locked_while_printing = True
on_when_job_queued = True
restart_klipper_when_powered = True
restart_delay = 2
bound_service = klipper

[update_manager client moonraker-telegram-bot]
type = git_repo
path = ~/moonraker-telegram-bot
origin = https://github.com/nlef/moonraker-telegram-bot.git
env = ~/moonraker-telegram-bot-env/bin/python
requirements = scripts/requirements.txt
install_script = scripts/install.sh

[update_manager Klipper-Adaptive-Meshing-Purging]
type = git_repo
channel = dev
path = ~/Klipper-Adaptive-Meshing-Purging
origin = https://github.com/kyleisah/Klipper-Adaptive-Meshing-Purging.git
managed_services = klipper
primary_branch = main

#################################################################
All Configuration Files:
/home/m/printer_data/config/moonraker.conf
#################################################################
Loading Sqlite database provider. Sqlite Version: 3.34.1
Unsafe Shutdown Count: 37

System Info:

***python***
  version: (3, 9, 2, 'final', 0)
  version_string: 3.9.2 (default, Mar 12 2021, 04:06:34)  [GCC 10.2.1 20210110]

***cpu_info***
  cpu_count: 4
  bits: 32bit
  processor: armv7l
  cpu_desc: ARMv7 Processor rev 4 (v7l)
  serial_number: 1186635f
  hardware_desc: BCM2835
  model: Raspberry Pi 3 Model B Plus Rev 1.3
  total_memory: 891696
  memory_units: kB

***sd_info***
  manufacturer_id: 03
  manufacturer: Sandisk
  oem_id: 5344
  product_name: SC32G
  product_revision: 8.0
  serial_number: 7c983a54
  manufacturer_date: 12/2018
  capacity: 29.7 GiB
  total_bytes: 31914983424

***distribution***
  name: Raspbian GNU/Linux 11 (bullseye)
  id: raspbian
  version: 11
  version_parts: {'major': '11', 'minor': '', 'build_number': ''}
  like: debian
  codename: bullseye
  release_info: {'name': 'MainsailOS', 'version_id': '1.2.1', 'codename': 'bullseye', 'id': 'mainsailos'}
  kernel_version: 6.1.21-v7+

***virtualization***
  virt_type: none
  virt_identifier: none

***network***

***canbus***

***Allowed Services***
  klipper_mcu
  webcamd
  MoonCord
  KlipperScreen
  moonraker-telegram-bot
  moonraker-obico
  sonar
  crowsnest
  octoeverywhere
  ratos-configurator
Found libcamera Python module, version: v0.0.5+83-bde9b04f

Systemd unit moonraker.service:
unit_name: moonraker.service
is_default: True
manager: systemd
Properties:
**Requires=['system.slice', 'network-online.target', 'sysinit.target']
**After=['network-online.target', 'systemd-journald.socket', 'basic.target', 'klipper.service', 'sysinit.target', 'system.slice']
**SupplementaryGroups=['moonraker-admin']
**EnvironmentFiles=/home/m/printer_data/systemd/moonraker.env
**ExecStart=/home/m/moonraker-env/bin/python $MOONRAKER_ARGS
**WorkingDirectory=
**FragmentPath=/etc/systemd/system/moonraker.service
**Description=API Server for Klipper SV1
**User=m

Systemd unit klipper.service:
unit_name: klipper.service
is_default: True
manager: systemd
Properties:
**Requires=['system.slice', '-.mount', 'sysinit.target']
**After=['network-online.target', 'systemd-journald.socket', 'basic.target', 'klipper-mcu.service', 'sysinit.target', '-.mount', 'system.slice']
**SupplementaryGroups=[]
**EnvironmentFiles=/home/m/printer_data/systemd/klipper.env
**ExecStart=/home/m/klippy-env/bin/python $KLIPPER_ARGS
**WorkingDirectory=/home/m/klipper
**FragmentPath=/etc/systemd/system/klipper.service
**Description=Klipper 3D Printer Firmware SV1
**User=m
Git Repo moonraker: Warnings detected:
  Repo has untracked source files: ['moonraker/components/timelapse.py']
Git Repo klipper: Warnings detected:
  Repo has untracked source files: ['klippy/extras/fcm.py']
Git Repo mainsail-config: No warnings detected
Git Repo crowsnest: No warnings detected
Git Repo sonar: No warnings detected
Git Repo moonraker-telegram-bot: No warnings detected
Git Repo Klipper-Adaptive-Meshing-Purging: No warnings detected
Klipper Version: v0.12.0-268-g0844388d7-dirty
2024-08-06 00:13:02,067 [authorization.py:_prune_conn_handler()] - Trusted Connection Expired, IP: 172.22.200.138
2024-08-06 00:23:01,933 [update_manager.py:_handle_auto_refresh()] - Klippy is printing, auto refresh aborted
2024-08-06 01:23:01,943 [update_manager.py:_handle_auto_refresh()] - Klippy is printing, auto refresh aborted
2024-08-06 02:23:52,892 [base_deploy.py:log_info()] - PackageKit: Detected 0 package updates:

2024-08-06 02:23:52,913 [proc_stats.py:_watchdog_callback()] - EVENT LOOP BLOCKED: 24.28 seconds, total blocked count: 2
2024-08-06 02:23:53,088 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker status --porcelain -b) successfully finished
2024-08-06 02:23:53,115 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker branch --list --no-color) successfully finished
2024-08-06 02:23:53,116 [proc_stats.py:log_last_stats()] - 
System Time: 1722925407.604762, Usage: 3.91%, Memory: 31116 kB
System Time: 1722925408.604902, Usage: 3.17%, Memory: 31116 kB
System Time: 1722925409.606483, Usage: 3.99%, Memory: 31116 kB
System Time: 1722925410.607162, Usage: 2.58%, Memory: 31116 kB
System Time: 1722925433.022649, Usage: 0.73%, Memory: 31120 kB
2024-08-06 02:23:53,170 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker remote get-url origin) successfully finished
2024-08-06 02:23:55,442 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker fetch origin --prune --progress) successfully finished
2024-08-06 02:23:55,463 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker merge-base --is-ancestor HEAD origin/master) successfully finished
2024-08-06 02:23:55,488 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker rev-parse HEAD) successfully finished
2024-08-06 02:23:55,512 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker describe --always --tags --long --dirty --abbrev=8) successfully finished
2024-08-06 02:23:55,532 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker rev-parse origin/master) successfully finished
2024-08-06 02:23:55,554 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker describe origin/master --always --tags --long --abbrev=8) successfully finished
2024-08-06 02:23:55,576 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker rev-list HEAD..b40751ba9d7f05e7da81636e3e4a5735ef85bb27 --count) successfully finished
2024-08-06 02:23:55,600 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker log 63578aefd0ad62b870b79d2ed6d6f475cbf35e03..origin/master --format="sha:%H%x1Dauthor:%an%x1Ddate:%ct%x1Dsubject:%s%x1Dmessage:%b%x1E" --max-count=100) successfully finished
2024-08-06 02:23:55,725 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/moonraker for-each-ref --count=100 --sort='-creatordate' --contains=HEAD --merged=origin/master --format='%(if)%(*objecttype)%(then)%(*objecttype) %(*objectname)%(else)%(objecttype) %(objectname)%(end) %(refname)' 'refs/tags') successfully finished
2024-08-06 02:23:55,727 [git_deploy.py:log_repo_info()] - Git Repo moonraker Detected:
Owner: Arksine
Repository Name: moonraker
Path: /home/m/moonraker
Remote: origin
Branch: master
Remote URL: https://github.com/Arksine/moonraker.git
Recovery URL: https://github.com/Arksine/moonraker.git
Current Commit SHA: 63578aefd0ad62b870b79d2ed6d6f475cbf35e03
Upstream Commit SHA: b40751ba9d7f05e7da81636e3e4a5735ef85bb27
Current Version: v0.9.1-0-g63578aef
Upstream Version: v0.9.2-0-gb40751ba
Rollback Commit: 8f3b30a04f0ffd5902075f15c52bc276e54ff690
Rollback Branch: master
Rollback Version: v0.8.0-384-g8f3b30a0
Is Dirty: False
Is Detached: False
Is Shallow: False
Commits Behind Count: 4
Diverged: False
Pinned Commit: None
Repo Warnings:
  Repo has untracked source files: ['moonraker/components/timelapse.py']
2024-08-06 02:23:55,728 [base_deploy.py:log_info()] - Git Repo moonraker: Channel: dev
2024-08-06 02:23:55,728 [base_deploy.py:log_info()] - Git Repo moonraker: Validity check for git repo passed
2024-08-06 02:23:55,805 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper status --porcelain -b) successfully finished
2024-08-06 02:23:55,824 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper branch --list --no-color) successfully finished
2024-08-06 02:23:55,860 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper remote get-url origin) successfully finished
2024-08-06 02:23:58,730 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper fetch origin --prune --progress) successfully finished
2024-08-06 02:23:58,766 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper merge-base --is-ancestor HEAD origin/master) successfully finished
2024-08-06 02:23:58,794 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper rev-parse HEAD) successfully finished
2024-08-06 02:23:58,995 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper describe --always --tags --long --dirty --abbrev=8) successfully finished
2024-08-06 02:23:59,019 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper rev-parse origin/master) successfully finished
2024-08-06 02:23:59,214 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper describe origin/master --always --tags --long --abbrev=8) successfully finished
2024-08-06 02:23:59,237 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper rev-list HEAD..d7d9092a920b3bd2bede4b570c66ddaa52df3f19 --count) successfully finished
2024-08-06 02:23:59,263 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper log 0844388d70f225f6458382c1c5d4e7eb37767758..origin/master --format="sha:%H%x1Dauthor:%an%x1Ddate:%ct%x1Dsubject:%s%x1Dmessage:%b%x1E" --max-count=100) successfully finished
2024-08-06 02:23:59,485 [shell_command.py:_check_proc_success()] - Command (git -C /home/m/klipper for-each-ref --count=100 --sort='-creatordate' --contains=HEAD --merged=origin/master --format='%(if)%(*objecttype)%(then)%(*objecttype) %(*objectname)%(else)%(objecttype) %(objectname)%(end) %(refname)' 'refs/tags') successfully finished
2024-08-06 02:23:59,486 [git_deploy.py:log_repo_info()] - Git Repo klipper Detected:
Owner: Klipper3d
Repository Name: klipper
Path: /home/m/klipper
Remote: origin
Branch: master
Remote URL: https://github.com/Klipper3d/klipper.git
Recovery URL: https://github.com/Klipper3d/klipper.git
Current Commit SHA: 0844388d70f225f6458382c1c5d4e7eb37767758
Upstream Commit SHA: d7d9092a920b3bd2bede4b570c66ddaa52df3f19
Current Version: v0.12.0-268-g0844388d
Upstream Version: v0.12.0-274-gd7d9092a
Rollback Commit: 9318901f19de1cbee1cbf142f2f4bcccd86d053b
Rollback Branch: master
Rollback Version: v0.12.0-258-g9318901f
Is Dirty: False
Is Detached: False
Is Shallow: False
Commits Behind Count: 6
Diverged: False
Pinned Commit: None
Repo Warnings:
  Repo has untracked source files: ['klippy/extras/fcm.py']
2024-08-06 02:23:59,486 [base_deploy.py:log_info()] - Git Repo klipper: Channel: dev
2024-08-06 02:23:59,486 [base_deploy.py:log_info()] - Git Repo klipper: Validity check for git repo passed
2024-08-06 02:24:00,363 [base_deploy.py:log_info()] - Web Client mainsail: Detected
Repo: mainsail-crew/mainsail
Channel: stable
Path: /home/m/mainsail
Local Version: v2.12.0
Remote Version: v2.12.0
Valid: True
Fallback Detected: False
Pre-release: False
Download Url: https://github.com/mainsail-crew/mainsail/releases/download/v2.12.0/mainsail.zip
Download Size: 2545249
Content Type: application/zip
Rollback Version: v2.11.2
Rollback Repo: mainsail-crew/mainsail
2024-08-06 05:00:01,633 [authorization.py:_check_trusted_connection()] - Trusted Connection Detected, IP: 127.0.0.1
